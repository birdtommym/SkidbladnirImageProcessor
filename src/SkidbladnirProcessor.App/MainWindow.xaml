<Window x:Class="SkidbladnirProcessor.App.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d"
        Title="Skidbladnir Image Processor" Height="720" Width="1200" MinWidth="1000" MinHeight="600">
    <Grid Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,0,0,10" HorizontalAlignment="Left" Spacing="8">
            <Button x:Name="LoadButton" Content="Load Light Frames" Width="150" Click="LoadButton_Click" />
            <Button x:Name="ClearButton" Content="Clear" Width="90" Click="ClearButton_Click" />
            <Button x:Name="StackButton" Content="Stack Images" Width="140" Click="StackButton_Click" />
            <Button x:Name="SaveButton" Content="Save Stacked Result" Width="170" Click="SaveButton_Click" />
        </StackPanel>

        <Grid Grid.Row="1" ColumnGap="10">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="2*" />
                <ColumnDefinition Width="3*" />
                <ColumnDefinition Width="3*" />
            </Grid.ColumnDefinitions>

            <GroupBox Header="Light Frames" Grid.Column="0">
                <ListBox x:Name="FramesList" DisplayMemberPath="FileName" SelectionChanged="FramesList_SelectionChanged" />
            </GroupBox>

            <GroupBox Header="Processed Preview" Grid.Column="1">
                <Border Background="Black" Margin="5">
                    <ScrollViewer HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Auto">
                        <Image x:Name="PreviewImage" Stretch="Uniform" />
                    </ScrollViewer>
                </Border>
            </GroupBox>

            <GroupBox Header="Stacked Result" Grid.Column="2">
                <Border Background="Black" Margin="5">
                    <ScrollViewer HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Auto">
                        <Image x:Name="StackedImage" Stretch="Uniform" />
                    </ScrollViewer>
                </Border>
            </GroupBox>
        </Grid>

        <StatusBar Grid.Row="2" Margin="0,10,0,0">
            <StatusBarItem>
                <TextBlock x:Name="StatusText" Text="Ready" />
            </StatusBarItem>
        </StatusBar>
    </Grid>
</Window>
